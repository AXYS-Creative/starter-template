<!-- prettier-ignore -->
{% set size = panel_configs.size or 'full'%}
{% set placement = panel_configs.placement or 'center' %}

<section
  class="scroll-stack scroll-stack--{{ size }} scroll-stack--{{ placement }}"
>
  <!-- prettier-ignore -->
  {% if panel_copy %}
  <div class="scroll-stack__copy scroll-stack__copy--unpinned">
    {% if panel_copy.title %}
    <h2 class="scroll-stack__copy-title h5">{{ panel_copy.title }}</h2>
    {% endif %} {% if panel_copy.desc %}
    <p class="scroll-stack__copy-desc">{{ panel_copy.desc }}</p>
    {% endif %} {% if panel_copy.cta_1 %}
    <!-- prettier-ignore -->
    {% set cta_1 = panel_copy.cta_1 %}
      {% set cta_2 = panel_copy.cta_2 %}
      {% include "../components/cta-group.njk" %}
      {% endif %}
  </div>
  {% endif %}

  <div class="scroll-stack__pin">
    {% if panel_nav %}
    <nav class="scroll-stack__nav">
      {% for panel in panel_data %}
      <a
        href="#scroll-stack__pin-step-{{ loop.index }}"
        class="scroll-stack__nav-link classic-link tab-element-page"
      >
        {{ panel.title }}
      </a>
      {% endfor %}
    </nav>
    {% endif %}

    <!-- prettier-ignore -->
    {% if panel_copy %}
    <div class="scroll-stack__copy scroll-stack__copy--pinned">
      {% if panel_copy.title %}
      <h2 class="scroll-stack__copy-title h5">{{ panel_copy.title }}</h2>
      {% endif %} {% if panel_copy.desc %}
      <p class="scroll-stack__copy-desc">{{ panel_copy.desc }}</p>
      {% endif %} {% if panel_copy.cta_1 %}
      <!-- prettier-ignore -->
      {% set cta_1 = panel_copy.cta_1 %}
      {% set cta_2 = panel_copy.cta_2 %}
      {% include "../components/cta-group.njk" %}
      {% endif %}
    </div>
    {% endif %}

    <!-- prettier-ignore -->
    {% for panel in panel_data %}
    <div class="scroll-stack__panel scroll-stack__panel-{{ loop.index }}">
      {% if panel.icon %}
      <span
        class="scroll-stack__panel__icon mask-icon"
        style="mask-image: url('{{ panel.icon }}')"
        role="img"
      ></span>
      {% endif %} {% if panel.title %}
      <h3 class="scroll-stack__panel__title h6">
        {{ panel.title }}
      </h3>
      {% endif %} {% if panel.desc %}
      <p class="scroll-stack__panel__desc">{{ panel.desc }}</p>
      {% endif %} {% if panel.cta_1 %}
      <!-- prettier-ignore -->
      {% set cta_1 = panel.cta_1 %}
      {% set cta_2 = null %}
      {% include "../components/cta-group.njk" %}
      {% endif %}
    </div>
    {% endfor %}
  </div>

  <!-- prettier-ignore -->
  <div class="scroll-stack__pin-steps pin-steps" aria-hidden="true">
    {% for step in panel_data %}
    <div 
      class="scroll-stack__pin-step scroll-stack__pin-step-{{ loop.index }} pin-step"
      id="scroll-stack__pin-step-{{ loop.index }}"
    >
    </div>
    {% endfor %}
    
   </div>
</section>
