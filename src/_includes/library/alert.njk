<!-- props -->
<!-- prettier-ignore -->
{% set id = alert.id or '' %}
{% set type = alert.type or 'error' %}
{% set title = alert.title | default('No title provided') %}
{% set message = alert.message | default('No message provided') %}
{% set auto_close = alert.auto_close or null %}
{% set link_1 = alert.link_1 or null %}
{% set link_2 = alert.link_2 or null %}
{% set left_border = alert.left_border or false %}
{% set timer = alert.timer or false %}

<!-- logic -->
<!-- prettier-ignore -->
{% set icon_path = '' %}
{% if type == 'success' %}
  {% set icon_path = '../../static/img/library/icon-google-check-circle.svg' %}
{% elif type == 'info' %}
  {% set icon_path = '../../static/img/library/icon-google-info-circle.svg' %}
{% elif type == 'warning' %}
  {% set icon_path = '../../static/img/library/icon-google-warning-triangle.svg' %}
{% elif type == 'error' %}
  {% set icon_path = '../../static/img/library/icon-google-x-octagon.svg' %}
{% endif %}

{% set content_class = '' %}

{% if message or link_1 %}
  {% set content_class = content_class + ' alert--has-content' %}
{% endif %}

{% if left_border %}
  {% set content_class = content_class + ' alert--left-border' %}
{% endif %}

{% if timer %}
  {% set content_class = content_class + ' alert--timer' %}
{% endif %}

<!-- prettier-ignore -->
<div 
  class="alert {{ content_class }}" 
  id="alert-{{ id }}"
  {% if type %}data-alert-type="{{ type }}"{% endif %}
  {% if auto_close %}data-alert-autoclose="{{ auto_close }}"{% endif %}
  >
  <span
    style="mask-image: url({{icon_path}});"
    class="alert__icon mask-icon"
    role="img"
  ></span>
  <div class="alert-content">
    {% if title %}<strong class="alert-content__title">{{title}}</strong>{% endif %}
    {% if message %}<p class="alert-content__message">{{message | safe}}</p>{% endif %}
    {% if link_1 %}
    <div class="alert-content__links">
      {% if link_1 %}
      <a 
        class="alert-content__link-1 classic-link" 
        href="{{link_1.url}}"
        {%if link_1.new_tab%}
          target="_blank" rel="noopener noreferrer"
        {%endif%}
        >
        {{link_1.text}}
      </a>
      {% endif %}
      {% if link_2 %}
      <a 
        class="alert-content__link-2 classic-link" 
        href="{{link_2.url}}"
        {%if link_2.new_tab%}
          target="_blank" rel="noopener noreferrer"
        {%endif%}
        >
        {{link_2.text}}
      </a>
      {% endif %}
    </div>
    {% endif %}
  </div>
  {% if auto_close < 1 %}
    <button class="alert__close-btn" aria-label="Close alert">
      <span
        style="mask-image: url('../../static/img/library/icon-google-x.svg');"
        class="alert__close-btn__icon mask-icon"
        role="img"
      ></span>
    </button>
  {% endif %}
  {% if timer %}
    <div class="alert-timer"></div>
  {% endif %}
</div>
