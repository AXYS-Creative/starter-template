<!-- prettier-ignore -->
{% set id = clipboard_copy.id or '' %}
{% set btn_text = clipboard_copy.btn_text or 'Copy' %}
{% set btn_text_active = clipboard_copy.btn_text_active or 'Copied!' %}
{% set btn_text_swap_time = clipboard_copy.btn_text_swap_time or 2000 %}
{% set icon = clipboard_copy.icon | default('../../static/img/library/icon-google-copy.svg') %}

{% set clipboard_class = 'clipboard-copy-btn magnet magnet-wide-btn cursor-hide' %}

{% if btn_text_swap_time %}
  {% set data_text_swap_time = 'data-btn-text-swap-time="'~btn_text_swap_time~'"' %}
{% endif %}

{% if alert %}
  {% set clipboard_class = clipboard_class + ' alert-trigger' %}
  {% set aria_controls = 'aria-controls="'~alert.id~'"' %}
{% endif %}

<!-- Using btn.njk // drills 'a11y_tab' down  -->
<!-- prettier-ignore -->
{% set btn = ({
  text: btn_text,
  type: 'outline',
  size: 'sm',
  icon_start: icon,
  class: clipboard_class,
  attributes: '
    data-copy-target="'~id~'" 
    data-btn-text-active="'~btn_text_active~'" 
    '~aria_controls~'
    '~data_text_swap_time~'
  '
 }) %}
{% include "../../components/btn.njk" %}
