<!-- prettier-ignore -->
{% set message = tooltip.message | default('No message provided.') %}
{% set text = tooltip.text or '' %}
{% set icon = tooltip.icon or '/static/img/library/icon-google-info-circle.svg' %}
{% set place = tooltip.place or 'top' %}
{% set place_sm = tooltip.place_sm or 'top' %} {# No 'right' or 'left' for mobile #}
{% set size = tooltip.size or 'md' %}
{% set include_point = tooltip.include_point or false %}

{% set tooltip_class = '' %}
{% if text %}
  {% set tooltip_class = tooltip_class + ' tooltip--text' %}  
{% elif icon %}
  {% set tooltip_class = tooltip_class + ' tooltip--icon' %}
{% endif %}

{% if include_point %}
  {% set tooltip_class = tooltip_class + ' tooltip--include-point' %}
{% endif %}

<!-- prettier-ignore -->
{% set a11y_tab = a11y_tab or 'tab-element-page' %}

<div class="tooltip {{ tooltip_class }}">
  <!-- prettier-ignore -->
  <button 
    class="tooltip__btn {{a11y_tab or 'tab-element-page'}}"
    {% if not text and icon %}
      aria-label="expand tooltip"
    {% endif %}
  >
    {% if text %}
    <span class="tooltip__btn-text">{{ text }}</span>
    {% elif icon %}
    <!-- prettier-ignore -->
    {% set icon_svg = ({ src: icon, class: 'tooltip__btn-icon' }) %}
    {% include "../../components/icon-svg.njk" %}
    {% endif %}
  </button>
  <div
    class="
    tooltip__message 
    tooltip__message--{{ place }}
    tooltip__message--mobile-{{ place_sm }}
    tooltip__message--{{ size }}
    "
    aria-hidden="true"
    role="tooltip"
  >
    <p>{{ message }}</p>
  </div>
</div>
