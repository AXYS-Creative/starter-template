<!-- props -->
<!-- prettier-ignore -->
{% set id = alert.id or '' %}
{% set type = alert.type or 'error' %}
{% set title = alert.title | default('No title provided') %}
{% set message = alert.message | default('No message provided') %}
{% set auto_close = alert.auto_close or null %}
{% set link_1 = alert.link_1 or null %}
{% set link_2 = alert.link_2 or null %}
{% set left_border = alert.left_border or false %}
{% set timer = alert.timer or false %}

<!-- logic -->
<!-- prettier-ignore -->
{% set icon_path = '' %}
{% if type == 'success' %}
  {% set icon_path = '/static/img/library/icon-google-check-circle.svg' %}
{% elif type == 'info' %}
  {% set icon_path = '/static/img/library/icon-google-info-circle.svg' %}
{% elif type == 'warning' %}
  {% set icon_path = '/static/img/library/icon-google-warning-triangle.svg' %}
{% elif type == 'error' %}
  {% set icon_path = '/static/img/library/icon-google-x-octagon.svg' %}
{% endif %}

{% set content_class = '' %}

{% if message or link_1 %}
  {% set content_class = content_class + ' alert--has-content' %}
{% endif %}

{% if left_border %}
  {% set content_class = content_class + ' alert--left-border' %}
{% endif %}

{% if timer %}
  {% set content_class = content_class + ' alert--timer' %}
{% endif %}

<!-- prettier-ignore -->
<div 
  class="alert {{ content_class }}" 
  id="alert-{{ id }}"
  {% if type %}data-alert-type="{{ type }}"{% endif %}
  {% if auto_close %}data-alert-autoclose="{{ auto_close }}"{% endif %}
  role="alert"
  aria-hidden="true"
  aria-live="polite"
  >
  <span
    style="mask-image: url({{icon_path}});"
    class="alert__icon mask-icon"
    role="img"
  ></span>
  <div class="alert-content">
    {% if title %}<strong class="alert-content__title">{{title}}</strong>{% endif %}
    {% if message %}<p class="alert-content__message">{{message | safe}}</p>{% endif %}
    {% if link_1 %}
    <div class="alert-content__links">
      {% if link_1 %}
        {% set btn = ({
          text: link_1.text,
          url: link_1.url,
          new_tab: link_1.new_tab,
          type: 'underline',
          class: 'alert-content__link-1'
        }) %}
        {% include "../../components/btn.njk" %}
      {% endif %}

      {% if link_2 %}
        {% set btn = ({
          text: link_2.text,
          url: link_2.url,
          new_tab: link_2.new_tab,
          type: 'underline',
          class: 'alert-content__link-2'
        }) %}
        {% include "../../components/btn.njk" %}
      {% endif %}
    </div>
    {% endif %}
  </div>
  {% if auto_close < 1 %}
    {% set btn = ({
      icon_end: '/static/img/library/icon-google-x-lg.svg',
      class: 'alert__close-btn',
      attributes: 'aria-label="Close alert"'
    }) %}
    {% include "../../components/btn.njk" %}
  {% endif %}
  {% if timer %}
    <div class="alert-timer"></div>
  {% endif %}
</div>
