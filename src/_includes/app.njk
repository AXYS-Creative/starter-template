<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- prettier-ignore -->
    {% set defaults = meta_data.defaults %}
    
    {% set pageMeta = null %}
    {% for meta in meta_data.page_details %}
      {% if '/' + meta.path in page.url %}
        {% set pageMeta = meta %}
      {% endif %}
    {% endfor %}

    {% include "./meta/_meta-core.njk" %}
    {% include "./meta/_meta-schema.njk" %}
    {% include "./meta/_meta-open-graph.njk" %}
    {% include "./meta/_meta-theme-script.njk" %}

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/static/styles/styles.css" type="text/css" />
    <!-- Library DELETE ME -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

    <!-- Script Tags -->
    {% if path == "home" %}
    <!-- Netlify Identity Widget -->
    <script
      type="text/javascript"
      src="https://identity.netlify.com/v1/netlify-identity-widget.js"
      defer
    ></script>
    {% endif %}
    <script src="/static/js/alpine.js" defer></script>
    <script src="/static/javascript/index.js" type="module" defer></script>
  </head>
  <body>
    <!-- prettier-ignore -->
    {% include "./partials/header-island.njk" %}
    
    {% if path == "home" %}
      {% set promo_banner_data = library.promo_banner %}
      {% include './library/components/promo-banner.njk' %}
    {% endif %}

    <main class="main-content main-{{ path | slugifyPath }}">
      {{ content | safe }}
    </main>
    {%include "./partials/footer-scroll-reveal.njk" %}

    <!-- Library // CHANGE ME -->
    <!-- prettier-ignore -->
    {% if 
      path == "library/utils" 
      or path == "library/components" 
      or path == "library/combos" 
    %}
      {% include "./library/components/btn-back-to-top.njk" %}
    {% endif %}

    <!-- prettier-ignore  -->
    {% if 
      path == "home" 
      or path == "library/utils" 
      or path == "library/components" 
      or path == "library/combos"
      or path == "library/sections" 
      or path == "style-guide" 
    %}
      {% include "./library/components/mouse-cursor.njk" %}
    {% endif %}

    <!-- prettier-ignore -->
    {% if path == 'home' %}
      {% include './partials/loader.njk' %}
    {% endif %}

    <!-- prettier-ignore -->
    {% set scroll_progress = ({
      type: 'height',
      allow_click: true
    }) %}
    {% include "./library/components/scroll-progress.njk" %}

    <!-- prettier-ignore -->
    {% if path == "library/combos" %}
      {% include "./library/components/video-overlay.njk" %}
    {% endif %}
    
    {% if path == "library/advanced" %}
    <canvas id="grid-bg"></canvas>
    {% endif %}

    <!-- prettier-ignore -->
    {% include "./partials/scripts.njk" %}
  </body>
</html>
